<link rel="import" href="/assets/bower_components/polymer/polymer.html">
<link rel="import" href="/assets/bower_components/paper-elements/paper-elements.html">

<link href="/assets/bower_components/font-roboto/roboto.html" rel="import">
<link href="/assets/bower_components/paper-input/paper-autogrow-textarea.html" rel="import">
<link href="/assets/bower_components/paper-input/paper-input-decorator.html" rel="import">
<link href="/assets/bower_components/paper-input/paper-input.html" rel="import">
<link href="/assets/bower_components/paper-button/paper-button.html" rel="import">


<polymer-element name="login-form">
	<template>
		<link href="/assets/elements/login-form.css" type="text/css" rel="stylesheet">
		<div>
			<h1>Login with 5-Wins</h1>
    		<paper-input-decorator class="custom"  label="E-Mail" floatingLabel>
      			<input id="uniqueName">
    		</paper-input-decorator>
    		<paper-input-decorator class="custom" label="Password" floatingLabel>
      			<input id="uniquePassword"  type="password">
    		</paper-input-decorator><br/>
    		<paper-button class="colored" on-click="{{sendLogin}}" raised> LogIn
			</paper-button>
			<div id="errorStatus">
			</div>
    	</div>
	</template>
	<script>
		Polymer('login-form', {
		      sendLogin: function() {
		           /*identifier: this.identifier,
		            password: this.password*/
		          	console.log(this.$.uniqueName.value);
		          	console.log(this.$.uniquePassword.value);
		          	$.post("/login/" + this.$.uniqueName.value + "/" +this.$.uniquePassword.value, function(data) {
						console.log("try local login.");
						if(data == "true") {
							console.log("local login true");
							$('#signedIn').show();
						} else {
							console.log("local login false");
							$('#errorStatus').value = "An error occured.";
						}
					});
		        }
		});
	</script>
</polymer-element>